'''

'''
'''
先生成一个模板y_encoded临时的（类别全0，边界框=anchor box(已经归一化了)), variances全为1.）： (2, 17538, 18) 
[[0.         0.         0.         0.         0.         0.
  0.00833333 0.01351351 0.03535534 0.11313708 0.00833333 0.01351351
  0.03535534 0.11313708 1.         1.         1.         1.        ]
 [0.         0.         0.         0.         0.         0.
  0.00833333 0.01351351 0.02886751 0.13856406 0.00833333 0.01351351
  0.02886751 0.13856406 1.         1.         1.         1.        ]
 [0.         0.         0.         0.         0.         0.
  0.00833333 0.01351351 0.05       0.08       0.00833333 0.01351351
  0.05       0.08       1.         1.         1.         1.        ]]
把模板的y_encoded分类的one-hot 全部设为背景

正在处理的图像编号：0
该图片的人工标注框labels： (7, 5)
[[  1.   0. 140.  28. 183.]
 [  1.  27. 150.  45. 179.]
 [  1.  28. 153.  46. 178.]
 [  1. 369. 151. 419. 169.]
 [  1. 373. 148. 430. 168.]
 [  5. 418.  57. 444. 104.]
 [  5. 422.  86. 437.  99.]]
该图片的人工标注框(归一化后，坐标从corners变为中心点(cx cy w h)形式)： 
[[1.         0.02916667 0.53833333 0.05833333 0.14333333]
 [1.         0.075      0.54833333 0.0375     0.09666667]
 [1.         0.07708333 0.55166667 0.0375     0.08333333]
 [1.         0.82083333 0.53333333 0.10416667 0.06      ]
 [1.         0.83645833 0.52666667 0.11875    0.06666667]
 [5.         0.89791667 0.26833333 0.05416667 0.15666667]
 [5.         0.89479167 0.30833333 0.03125    0.04333333]]
该图片的人工标注框(归一化后，坐标从corners变为中心点(cx cy w h)形式，类别one-hot编码后)labels_one_hot： (7, 10) 
[[0.         1.         0.         0.         0.         0.
  0.02916667 0.53833333 0.05833333 0.14333333]
 [0.         1.         0.         0.         0.         0.
  0.075      0.54833333 0.0375     0.09666667]
 [0.         1.         0.         0.         0.         0.
  0.07708333 0.55166667 0.0375     0.08333333]
 [0.         1.         0.         0.         0.         0.
  0.82083333 0.53333333 0.10416667 0.06      ]
 [0.         1.         0.         0.         0.         0.
  0.83645833 0.52666667 0.11875    0.06666667]
 [0.         0.         0.         0.         0.         1.
  0.89791667 0.26833333 0.05416667 0.15666667]
 [0.         0.         0.         0.         0.         1.
  0.89479167 0.30833333 0.03125    0.04333333]]
该图片中的所有人工标注的box与该张图片中所有的anchor box计算iou值(都归一化了 坐标格式都是中心点的):similarities (7, 17538) 
[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]
 [0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]]
严格匹配，最值且唯一不重复的匹配(最优的一夫一妻制):anchor box的索引： [6849 7224 7226 7139 7150 3561 4280]
已经匹配上的anchor box就不能再去匹配了，类似找女朋友一样
除开与gt box最优匹配的anchor box之外,剩下的anchor box都可以主动去找之最大匹配的gt box（肯定会重复）经过正样本的iou阈值的筛选后 返回gt_indices： 17 [5 5 5 0 1 1 3 3 3 3 3 0 0 1 1 0 0]
返回的anchor_indices: 17 [ 3567  3921  3927  6855  6864  6865  7132  7133  7138  7144  7145  7209 7215  7225  7584 14942 14948]
以上过程：已经把正样本全部找出来了(关键：在模板矩阵中给所有正样本的类别和边界框赋值:用人工标注框的类别和box定位坐标)，正样本的总个数： 24
计算iou的similarities shape不变： (7, 17538)
max_background_similarities(除了正样本后还有多少iou值不为0)(看前100个): 1981 
[1.39970839e-04 1.34797798e-03 2.09359468e-03 2.09359468e-03
 1.04570270e-03 5.74515454e-03 6.35024947e-03 4.34449066e-03
 2.15508260e-02 2.73504689e-02 4.34144189e-02 3.78612137e-02
 4.50288209e-02 6.90326721e-02 5.26288210e-02 4.36849506e-02
 6.90326721e-02 5.04399438e-02 2.20186730e-02 3.33647085e-02
 3.37349828e-02 1.23365899e-03 1.75530169e-02 1.86986377e-03
 1.61134580e-02 6.96737951e-03 1.00270576e-02 1.78299295e-02
 8.58451076e-03 2.63823747e-02 6.22080079e-02 2.62232236e-02
 2.21117897e-02 7.98038424e-02 8.91702574e-02 6.38032493e-02
 1.12683313e-01 4.62298690e-02 3.44892055e-02 1.35870050e-01
 1.45554850e-01 1.04056028e-01 1.61166883e-01 6.44643809e-02
 3.95488522e-02 1.31473969e-01 1.45554850e-01 9.37099267e-02
 1.53804228e-01 6.17543739e-02 3.95488522e-02 6.36134443e-02
 6.78401908e-02 5.41945298e-02 9.96200388e-02 4.11554303e-02
 3.13668327e-02 3.43226275e-03 1.74349249e-02 5.02967018e-02
 2.13405495e-02 1.90635767e-02 5.20819765e-03 2.26580153e-03
 7.05039342e-03 2.66977635e-02 2.07362243e-02 4.22342648e-02
 2.95745346e-02 1.28604826e-02 5.57001396e-02 1.06235599e-01
 8.11103659e-02 9.68578769e-02 1.37901620e-01 1.39123116e-01
 1.40393582e-01 1.99131827e-01 1.49075471e-01 1.57523828e-01
 2.44007940e-01 2.33876690e-01 2.39861339e-01 2.94661255e-01
 2.16260603e-01 1.83840536e-01 2.35387990e-01 2.33876690e-01
 2.13402400e-01 2.79730965e-01 2.05934708e-01 1.83840536e-01
 1.08737556e-01 1.04695434e-01 1.17971297e-01 1.74475164e-01
 1.31295461e-01 1.41736790e-01 5.64054358e-03 3.64565482e-02]
经过负样本的IOU最大阈值限制后，找出所有的中立样本neutral_boxes个数： 187 
[ 3195  3198  3199  3200  3201  3202  3204  3205  3206  3207  3208  3555
  3558  3559  3560  3562  3564  3565  3566  3568  3573  3915  3918  3919
  3920  3922  3924  3925  3926  3928  3933  4276  4277  4278  4279  4281
  4282  4283  4284  4285  4286  4287  4288  4289  4638  6483  6486  6487
  6488  6489  6490  6492  6493  6494  6495  6496  6504  6505  6771  6777
  6783  6789  6840  6841  6843  6846  6847  6848  6850  6852  6853  6854
  6856  6860  6861  6862  6866  6867  6868  6872  6873  6874  7124  7125
  7126  7127  7130  7131  7136  7137  7142  7143  7148  7149  7151  7154
  7155  7156  7157  7200  7203  7206  7207  7208  7210  7212  7213  7214
  7216  7218  7220  7221  7222  7223  7227  7228  7229  7230  7232  7233
  7234  7235  7485  7490  7491  7492  7493  7496  7497  7498  7499  7502
  7503  7504  7505  7509  7566  7568  7569  7570  7572  7574  7575  7576
  7581  7585  7586  7587  7593 14017 14196 14197 14198 14200 14202 14203
 14204 14206 14376 14377 14378 14382 14383 14384 14760 14761 14912 14940
 14941 14944 14946 14950 15083 15086 15088 15089 15092 15094 15095 15100
 15101 15120 15121 15122 15126 15128 15266]
所有负样本的个数：(y_encoded中) 17327
中立样本(y_encoded中分类的one-hot全为0)个数： 187
所有负样本的个数17327：= (总样本数17538-正样本数24-中立样本数187)

正在处理的图像编号：1
该图片的人工标注框labels： (1, 5) [[  4.  73. 147.  89. 175.]]
该图片的人工标注框(归一化后，坐标从corners变为中心点(cx cy w h)形式)： [[4.         0.16875    0.53666667 0.03333333 0.09333333]]
该图片的人工标注框(归一化后，坐标从corners变为中心点(cx cy w h)形式，类别one-hot编码后)labels_one_hot： (1, 10) [[0.         0.         0.         0.         1.         0.      0.16875    0.53666667 0.03333333 0.09333333]]
该图片中的所有人工标注的box与该张图片中所有的anchor box计算iou值(都归一化了 坐标格式都是中心点的):similarities (1, 17538) 
[[0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.
  0. 0. 0. 0.]]
严格匹配，最值且唯一不重复的匹配(最优的一夫一妻制):anchor box的索引： [6900]
已经匹配上的anchor box就不能再去匹配了，类似找女朋友一样
除开与gt box最优匹配的anchor box之外,剩下的anchor box都可以主动去找之最大匹配的gt box（肯定会重复）经过正样本的iou阈值的筛选后 返回gt_indices： 3 [0 0 0]
返回的anchor_indices: 3 [6896 6902 7260]
以上过程：已经把正样本全部找出来了(关键：在模板矩阵中给所有正样本的类别和边界框赋值:用人工标注框的类别和box定位坐标)，正样本的总个数： 4
计算iou的similarities shape不变： (1, 17538)
max_background_similarities(除了正样本后还有多少iou值不为0)(看前100个): 485 
[0.00940441 0.01294367 0.01445741 0.02890029 0.04396023 0.07919039
 0.03900796 0.05201346 0.09668539 0.03900796 0.02052374 0.02990153
 0.0338925  0.01420879 0.03033076 0.01326875 0.01403079 0.04207372
 0.0304169  0.04944187 0.09739388 0.04110183 0.02886601 0.15346962
 0.17923373 0.11229193 0.13459025 0.05570795 0.02927144 0.18514203
 0.223406   0.1206815  0.13459025 0.05570795 0.02927144 0.06785566
 0.06398507 0.06447897 0.11554631 0.04830067 0.02927144 0.00677597
 0.04631619 0.02008657 0.01769934 0.00318212 0.05214314 0.04660995
 0.08163742 0.0729288  0.04688657 0.11425462 0.17565703 0.15508516
 0.1806931  0.28864606 0.29972073 0.281602   0.24954021 0.21870595
 0.18361149 0.35684609 0.38323733 0.30612245 0.24954021 0.21870595
 0.18361149 0.11979163 0.10040175 0.15185602 0.21120363 0.18581082
 0.18361149 0.0148662  0.08052293 0.07177276 0.10480976 0.01760736
 0.07467353 0.0704385  0.11774129 0.1053396  0.05565888 0.18759991
 0.26499789 0.24748308 0.27160418 0.45783361 0.37263519 0.38888889
 0.36084979 0.27633453 0.4840358  0.38888889 0.36084979 0.27633453
 0.1764542  0.12033747 0.2548604  0.32360019]
经过负样本的IOU最大阈值限制后，找出所有的中立样本neutral_boxes个数： 24 [6540 6541 6542 6894 6895 6897 6898 6901 6903 6904 6909 6910 7254 7255
 7256 7257 7258 7261 7262 7263 7264 7270 7620 7621]
所有负样本的个数：(y_encoded中) 17510
中立样本(y_encoded中分类的one-hot全为0)个数： 24
所有负样本的个数17510：= (总样本数17538-正样本数4-中立样本数24)

所有图片都处理完后：将边界框坐标（已经归一化了）格式是中心点形式 由绝对坐标变成 相对于anchor box的坐标：
关键：所有图片都处理完后：将模板矩阵中的边界框坐标（已经归一化了）由绝对坐标变成 相对于anchor box的坐标，这一步导致我们模型预测的就是相对于anchor box的坐标
只看正样本转换的才有意义，负样本和中立样本转换后boxes都是0(没有物体目标啊)，这才是:这样转换的核心好处
看看转换之前的(某个正样本)： [6849] [[0.         1.         0.         0.         0.         0.
  0.02916667 0.53833333 0.05833333 0.14333333 0.025      0.52702703
  0.07071068 0.11313708 1.         1.         1.         1.        ]]
看看转换之前的(某个负样本)： [0] [[1.         0.         0.         0.         0.         0.
  0.00833333 0.01351351 0.03535534 0.11313708 0.00833333 0.01351351
  0.03535534 0.11313708 1.         1.         1.         1.        ]]
看看转换之前的(某个中立样本)： [3195] [[0.         0.         0.         0.         0.         0.
  0.875      0.22972973 0.07071068 0.11313708 0.875      0.22972973
  0.07071068 0.11313708 1.         1.         1.         1.        ]]

转换之后的(某个正样本)： [6849] [[ 0.          1.          0.          0.          0.          0.
   0.05892557  0.09993457 -0.19242291  0.2365727   0.025       0.52702703
   0.07071068  0.11313708  1.          1.          1.          1.        ]]
转换之后的(某个负样本)： [0] [[1.         0.         0.         0.         0.         0.
  0.         0.         0.         0.         0.00833333 0.01351351
  0.03535534 0.11313708 1.         1.         1.         1.        ]]
转换之后的(某个中立样本)： [3195] [[0.         0.         0.         0.         0.         0.
  0.         0.         0.         0.         0.875      0.22972973
  0.07071068 0.11313708 1.         1.         1.         1.        ]]
'''